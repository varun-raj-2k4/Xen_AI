<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xen AI - Image Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2563eb;
            --primary-light: #3b82f6;
            --primary-dark: #1d4ed8;
            --secondary: #1e40af;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f8fafc;
            --gray: #94a3b8;
            --dark-gray: #334155;
            --card-bg: #1e293b;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--darker);
            color: var(--light);
            min-height: 100vh;
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(37, 99, 235, 0.1) 0%, transparent 20%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.05em;
        }

        .header p {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto 1.5rem;
            line-height: 1.7;
        }

        .badge {
            display: inline-block;
            background: rgba(37, 99, 235, 0.2);
            color: var(--primary-light);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            border: 1px solid rgba(37, 99, 235, 0.3);
        }

        .generator-section {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(37, 99, 235, 0.2);
            border-radius: 16px;
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(2, 6, 23, 0.5);
            transition: all 0.3s ease;
        }

        .generator-section:hover {
            border-color: rgba(37, 99, 235, 0.4);
        }

        .input-group {
            margin-bottom: 2rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 600;
            color: var(--light);
            font-size: 1.1rem;
        }

        .prompt-input {
            width: 100%;
            padding: 1.25rem;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(37, 99, 235, 0.3);
            border-radius: 12px;
            color: var(--light);
            font-size: 1.05rem;
            resize: vertical;
            min-height: 140px;
            transition: all 0.3s ease;
            line-height: 1.7;
        }

        .prompt-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
            background: rgba(30, 41, 59, 0.9);
        }

        .prompt-input::placeholder {
            color: var(--gray);
            opacity: 0.7;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            margin-bottom: 0.7rem;
            font-size: 0.95rem;
            color: var(--gray);
            font-weight: 500;
        }

        .control-input {
            padding: 0.85rem 1rem;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(37, 99, 235, 0.3);
            border-radius: 10px;
            color: var(--light);
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .control-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
            background: rgba(30, 41, 59, 0.9);
        }

        .generate-btn {
            width: 100%;
            padding: 1.2rem 2rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .generate-btn:hover {
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        .generate-btn:disabled {
            background: var(--dark-gray);
            color: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .loading-spinner {
            display: none;
            width: 22px;
            height: 22px;
            border: 3px solid rgba(255, 255, 255, 0.2);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.8rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .results-section {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(37, 99, 235, 0.2);
            border-radius: 16px;
            padding: 2.5rem;
            min-height: 500px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(2, 6, 23, 0.5);
        }

        .results-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .results-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            color: var(--light);
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .results-header p {
            color: var(--gray);
            font-size: 1rem;
        }

        .placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 400px;
            color: var(--gray);
            text-align: center;
            padding: 2rem;
        }

        .placeholder-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 1.5rem;
            opacity: 0.2;
        }

        .placeholder h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--light);
            font-weight: 600;
        }

        .placeholder p {
            font-size: 1rem;
            max-width: 500px;
            line-height: 1.7;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .image-card {
            background: var(--card-bg);
            border: 1px solid rgba(37, 99, 235, 0.2);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(2, 6, 23, 0.3);
        }

        .image-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(2, 6, 23, 0.5);
            border-color: rgba(37, 99, 235, 0.4);
        }

        .image-container {
            position: relative;
            overflow: hidden;
            height: 320px;
        }

        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .image-card:hover .image-container img {
            transform: scale(1.05);
        }

        .image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.7);
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
            font-weight: 500;
            backdrop-filter: blur(2px);
        }

        .image-info {
            padding: 1.5rem;
        }

        .image-prompt {
            font-size: 1rem;
            color: var(--light);
            margin-bottom: 1rem;
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .image-details {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 1.2rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .image-details span {
            background: rgba(30, 41, 59, 0.8);
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .image-details i {
            font-size: 0.7rem;
        }

        .image-actions {
            display: flex;
            gap: 0.8rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.7rem;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .download-btn {
            background: var(--primary);
            color: white;
        }

        .download-btn:hover {
            background: var(--primary-light);
        }

        .view-btn {
            background: rgba(30, 41, 59, 0.8);
            color: var(--light);
            border: 1px solid rgba(37, 99, 235, 0.3);
        }

        .view-btn:hover {
            background: rgba(37, 99, 235, 0.2);
            border-color: rgba(37, 99, 235, 0.5);
        }

        .status-message {
            text-align: center;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 500;
        }

        .status-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .status-error {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .status-info {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary-light);
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        /* Floating particles background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: rgba(59, 130, 246, 0.3);
            border-radius: 50%;
            pointer-events: none;
        }

        /* Modal styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(2, 6, 23, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--dark);
            border-radius: 16px;
            max-width: 90%;
            max-height: 90%;
            width: 800px;
            overflow: hidden;
            border: 1px solid rgba(37, 99, 235, 0.3);
            box-shadow: 0 20px 50px rgba(2, 6, 23, 0.8);
            transform: scale(0.9);
            transition: all 0.3s ease;
            position: relative;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-img-container {
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--card-bg);
            position: relative;
        }

        .modal-img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .modal-info {
            padding: 1.5rem;
            border-top: 1px solid rgba(37, 99, 235, 0.2);
        }

        .modal-prompt {
            font-size: 1.1rem;
            color: var(--light);
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .modal-details {
            display: flex;
            justify-content: space-between;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            background: rgba(239, 68, 68, 0.2);
            border: none;
            border-radius: 50%;
            color: var(--error);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .close-modal:hover {
            background: rgba(239, 68, 68, 0.3);
            transform: rotate(90deg);
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .modal-download-btn {
            padding: 0.75rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-download-btn:hover {
            background: var(--primary-light);
        }


        /* Responsive adjustments */
        @media (max-width: 1024px) {
            .container {
                padding: 1.5rem;
            }

            .header h1 {
                font-size: 2.8rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .header p {
                font-size: 1rem;
            }

            .generator-section, .results-section {
                padding: 1.5rem;
            }

            .controls {
                grid-template-columns: 1fr;
            }

            .image-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
            }

            .modal-img-container {
                height: 50vh;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .badge {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }

            .prompt-input {
                min-height: 120px;
                padding: 1rem;
            }

            .image-actions {
                flex-direction: column;
            }

            .modal-details {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating particles background -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <div class="header">
            <div class="badge">
                <i class="fas fa-bolt"></i> Powered by AI
            </div>
            <h1>Xen AI - Image Generator</h1>
            <p>Transform your imagination into stunning visuals with our advanced AI technology. Create unique, high-quality images from simple text descriptions in seconds.</p>
        </div>

        <div class="generator-section">
            <div class="input-group">
                <label for="prompt">
                    <i class="fas fa-magic" style="margin-right: 0.5rem;"></i> Describe your vision
                </label>
                <textarea 
                    id="prompt" 
                    class="prompt-input" 
                    placeholder="Example: 'A futuristic cyberpunk cityscape at night with neon lights reflecting on wet streets, flying cars, and towering skyscrapers'"
                ></textarea>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label for="style"><i class="fas fa-paint-brush"></i> Art Style</label>
                    <select id="style" class="control-input">
                        <option value="realistic">Hyper Realistic</option>
                        <option value="artistic">Digital Art</option>
                        <option value="cartoon">Animated Cartoon</option>
                        <option value="abstract">Abstract Expressionism</option>
                        <option value="cyberpunk">Cyberpunk</option>
                        <option value="vintage">Vintage Photograph</option>
                        <option value="fantasy">Fantasy Art</option>
                        <option value="minimalist">Minimalist</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="resolution"><i class="fas fa-expand"></i> Resolution</label>
                    <select id="resolution" class="control-input">
                        <option value="512x512">512 × 512</option>
                        <option value="768x768">768 × 768</option>
                        <option value="1024x1024" selected>1024 × 1024</option>
                        <option value="1536x1024">1536 × 1024</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="quality"><i class="fas fa-gem"></i> Quality</label>
                    <select id="quality" class="control-input">
                        <option value="standard">Standard</option>
                        <option value="high" selected>High Quality</option>
                        <option value="ultra">Ultra HD</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="count"><i class="fas fa-layer-group"></i> Number of Images</label>
                    <select id="count" class="control-input">
                        <option value="1">1 Image</option>
                        <option value="2" selected>2 Images</option>
                        <option value="4">4 Images</option>
                        <option value="8">8 Images</option>
                        <option value="12">12 Images</option>
                        <option value="15">15 Images</option>
                    </select>
                </div>
            </div>

            <button id="generateBtn" class="generate-btn">
                <span class="loading-spinner"></span>
                <span class="btn-text">
                    <i class="fas fa-sparkles" style="margin-right: 0.5rem;"></i> Generate Images
                </span>
            </button>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h2>Your Generated Masterpieces</h2>
                <p>Download, share, or generate more variations</p>
            </div>

            <div id="results">
                <div class="placeholder">
                    <svg class="placeholder-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                    </svg>
                    <h3>Your AI-generated images will appear here</h3>
                    <p>Describe your vision above and click "Generate Images" to create stunning visuals powered by artificial intelligence.</p>
                    <p style="font-size: 0.9rem; margin-top: 1.5rem; color: var(--primary-light);">
                        <i class="fas fa-lightbulb"></i> Tip: Try being as descriptive as possible for best results
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="modal" id="imageModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-img-container">
                <img class="modal-img" id="modalImage" src="" alt="Full size image">
            </div>
            <div class="modal-info">
                <div class="modal-prompt" id="modalPrompt"></div>
                <div class="modal-details" id="modalDetails"></div>
                <div class="modal-actions">
                    <button class="modal-download-btn" id="modalDownloadBtn">
                        <i class="fas fa-download"></i> Download Image
                    </button>
                </div>
            </div>
        </div>
    </div>


    <script>
        const promptInput = document.getElementById('prompt');
        const styleSelect = document.getElementById('style');
        const resolutionSelect = document.getElementById('resolution');
        const qualitySelect = document.getElementById('quality');
        const countSelect = document.getElementById('count');
        const generateBtn = document.getElementById('generateBtn');
        const resultsDiv = document.getElementById('results');
        const loadingSpinner = document.querySelector('.loading-spinner');
        const btnText = document.querySelector('.btn-text');
        const imageModal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        const modalPrompt = document.getElementById('modalPrompt');
        const modalDetails = document.getElementById('modalDetails');
        const closeModal = document.getElementById('closeModal');

        let isGenerating = false;

        // Initialize particles
        createParticles();

        generateBtn.addEventListener('click', generateImages);

        promptInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && e.ctrlKey) {
                generateImages();
            }
        });

        closeModal.addEventListener('click', () => {
            imageModal.classList.remove('active');
        });

        function generateImages() {
            const prompt = promptInput.value.trim();
            
            if (!prompt) {
                showStatusMessage('error', 'Please enter a description for your image.');
                promptInput.focus();
                return;
            }

            if (isGenerating) return;

            isGenerating = true;
            generateBtn.disabled = true;
            loadingSpinner.style.display = 'inline-block';
            btnText.textContent = 'Generating...';

            // Clear previous results
            resultsDiv.innerHTML = '';

            // Show generating message
            showStatusMessage('info', 'Generating your images... This usually takes 10-30 seconds depending on server load.');

            // Generate actual images
            setTimeout(() => {
                const imageCount = parseInt(countSelect.value);
                const resolution = resolutionSelect.value;
                const style = styleSelect.value;
                const quality = qualitySelect.value;

                generateImageCards(prompt, imageCount, resolution, style, quality);

                isGenerating = false;
                generateBtn.disabled = false;
                loadingSpinner.style.display = 'none';
                btnText.innerHTML = '<i class="fas fa-sparkles" style="margin-right: 0.5rem;"></i> Generate Images';

                showStatusMessage('success', `Success! ${imageCount} image${imageCount > 1 ? 's' : ''} generated.`);
                
                // Scroll to results
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 1500);
        }

        async function generateImageCards(prompt, count, resolution, style, quality) {
            const imageGrid = document.createElement('div');
            imageGrid.className = 'image-grid';

            for (let i = 0; i < count; i++) {
                const imageCard = document.createElement('div');
                imageCard.className = 'image-card';

                // Create enhanced prompt with style
                const enhancedPrompt = `${prompt}, ${style} style, ${quality} quality, highly detailed, 4k`;
                
                // Generate actual image using Pollinations AI (free API)
                const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(enhancedPrompt)}?width=${resolution.split('x')[0]}&height=${resolution.split('x')[1]}&seed=${Date.now() + i}&nologo=true`;

                imageCard.innerHTML = `
                    <div class="image-container">
                        <img src="${imageUrl}" 
                             alt="Generated image: ${prompt}" 
                             loading="lazy"
                             onload="this.style.opacity='1'"
                             onerror="this.parentElement.innerHTML='<div class=\\'image-placeholder\\'><i class=\\'fas fa-exclamation-circle\\'></i> Failed to generate image</div>'">
                        <div class="image-overlay">
                            <i class="fas fa-expand"></i> Click to view full size
                        </div>
                    </div>
                    <div class="image-info">
                        <div class="image-prompt" title="${prompt}">"${truncatePrompt(prompt)}"</div>
                        <div class="image-details">
                            <span><i class="fas fa-ruler-combined"></i> ${resolution}</span>
                            <span><i class="fas fa-paint-brush"></i> ${style}</span>
                            <span><i class="fas fa-gem"></i> ${quality}</span>
                        </div>
                        <div class="image-actions">
                            <button class="action-btn download-btn" onclick="downloadImage('${imageUrl}', '${generateFileName(prompt)}')">
                                <i class="fas fa-download"></i> Download
                            </button>
                            <button class="action-btn view-btn" onclick="openImageModal('${imageUrl}', '${prompt}', '${resolution}', '${style}', '${quality}')">
                                <i class="fas fa-eye"></i> View Full
                            </button>
                        </div>
                    </div>
                `;

                // Add hover effect
                imageCard.addEventListener('mouseenter', () => {
                    const overlay = imageCard.querySelector('.image-overlay');
                    if (overlay) overlay.style.opacity = '1';
                });

                imageCard.addEventListener('mouseleave', () => {
                    const overlay = imageCard.querySelector('.image-overlay');
                    if (overlay) overlay.style.opacity = '0';
                });

                imageGrid.appendChild(imageCard);
            }

            resultsDiv.appendChild(imageGrid);
        }

        function truncatePrompt(prompt, maxLength = 100) {
            return prompt.length > maxLength ? prompt.substring(0, maxLength) + '...' : prompt;
        }

        function generateFileName(prompt) {
            return `nexusai-${prompt.toLowerCase().replace(/[^a-z0-9]/g, '-').substring(0, 30)}-${Date.now()}`;
        }

        function showStatusMessage(type, message) {
            const existingMessage = document.querySelector('.status-message');
            if (existingMessage) {
                existingMessage.remove();
            }

            const statusDiv = document.createElement('div');
            statusDiv.className = `status-message status-${type}`;
            statusDiv.innerHTML = type === 'error' ? `<i class="fas fa-exclamation-circle"></i> ${message}` : 
                               type === 'success' ? `<i class="fas fa-check-circle"></i> ${message}` :
                               `<i class="fas fa-info-circle"></i> ${message}`;

            resultsDiv.insertBefore(statusDiv, resultsDiv.firstChild);

            // Auto-remove success/info messages after 5 seconds
            if (type === 'success' || type === 'info') {
                setTimeout(() => {
                    if (statusDiv.parentNode) {
                        statusDiv.remove();
                    }
                }, 5000);
            }
        }

        // Add some sample prompts for demonstration
        const samplePrompts = [
            "A majestic mountain landscape at golden hour with a crystal clear lake reflecting the peaks, dramatic clouds, and wildflowers in the foreground",
            "A futuristic robot with intricate mechanical details sitting in a cozy library reading a book, warm lighting, steampunk style",
            "An ancient Japanese temple surrounded by cherry blossoms in full bloom, soft pink petals falling, misty morning light",
            "A steampunk airship with brass fittings and glowing engines floating above a Victorian city at sunset, intricate details",
            "A magical forest with glowing mushrooms and bioluminescent plants, ethereal light filtering through the trees, fantasy art style",
            "A cyberpunk street market at night with neon signs in Japanese, holographic advertisements, and diverse futuristic characters",
            "A portrait of an elegant elf queen with intricate silver jewelry and emerald green eyes, fantasy art, highly detailed",
            "A surreal landscape with floating islands and waterfalls cascading into the sky, dreamlike atmosphere, vibrant colors"
        ];

        // Add click event to placeholder for sample prompt
        document.addEventListener('click', (e) => {
            if (e.target.closest('.placeholder') && !promptInput.value.trim()) {
                const randomPrompt = samplePrompts[Math.floor(Math.random() * samplePrompts.length)];
                promptInput.value = randomPrompt;
                promptInput.focus();
                showStatusMessage('info', 'Try generating this sample prompt or edit it to create your own unique image!');
            }
        });

        // Download image function
        function downloadImage(imageUrl, filename) {
            showStatusMessage('info', 'Preparing your download...');
            
            fetch(imageUrl)
                .then(response => response.blob())
                .then(blob => {
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    link.download = `${filename}.jpg`;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    showStatusMessage('success', 'Image downloaded successfully!');
                })
                .catch(() => {
                    showStatusMessage('error', 'Failed to download image. Please try again.');
                });
        }

          // [Previous JavaScript remains the same until the modal functions]

        // Modal for full-size image viewing
        let currentImageUrl = '';
        let currentImagePrompt = '';

        function openImageModal(imageUrl, prompt, resolution, style, quality) {
            currentImageUrl = imageUrl;
            currentImagePrompt = prompt;
            
            modalImage.src = imageUrl;
            modalPrompt.textContent = `"${prompt}"`;
            
            let detailsHTML = '';
            if (resolution) detailsHTML += `<span><i class="fas fa-ruler-combined"></i> ${resolution}</span>`;
            if (style) detailsHTML += `<span><i class="fas fa-paint-brush"></i> ${style}</span>`;
            if (quality) detailsHTML += `<span><i class="fas fa-gem"></i> ${quality}</span>`;
            
            modalDetails.innerHTML = detailsHTML;
            imageModal.classList.add('active');

            // Close modal when clicking outside content
            imageModal.addEventListener('click', (e) => {
                if (e.target === imageModal) {
                    closeImageModal();
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeImageModal();
                }
            });
        }

        function closeImageModal() {
            imageModal.classList.remove('active');
        }

        // Set up modal download button
        document.getElementById('modalDownloadBtn').addEventListener('click', () => {
            downloadImage(currentImageUrl, generateFileName(currentImagePrompt));
        });

        // Set up close button
        document.getElementById('closeModal').addEventListener('click', closeImageModal);

        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = window.innerWidth < 768 ? 20 : 40;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size between 1px and 3px
                const size = Math.random() * 2 + 1;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Random position
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // Random animation
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                particle.style.animation = `float ${duration}s ease-in-out ${delay}s infinite alternate`;
                
                particlesContainer.appendChild(particle);
            }
            
            // Add keyframes for floating animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes float {
                    0% { transform: translate(0, 0); opacity: 0.3; }
                    50% { opacity: 0.7; }
                    100% { transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px); opacity: 0.3; }
                }
            `;
            document.head.appendChild(style);
        }
    </script>
</body>
</html>